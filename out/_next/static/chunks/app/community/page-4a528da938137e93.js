(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{320:function(e,s,t){Promise.resolve().then(t.bind(t,8973))},8113:function(e,s,t){"use strict";t.d(s,{e:function(){return r}});var i=t(5786);let r=()=>(0,i.createBrowserClient)("https://bniiebvzngrrwkfnzltv.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJuaWllYnZ6bmdycndrZm56bHR2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM4NjE5OTQsImV4cCI6MjA1OTQzNzk5NH0.aLSD9pCnftNy0RIlnip8BCyWBxdKxk-WwmPzcNZfhcA")},8973:function(e,s,t){"use strict";t.d(s,{CommunityPage:function(){return R}});var i=t(7437),r=t(2265),n=t(2869),a=t(6070),l=t(2339),c=t(6831),d=t(5974),o=t(5613),m=t(8945),u=t(8113),x=t(3327),h=t(7806),f=t(505),v=t(2718),p=t(5805),g=t(6595),j=t(6337),b=t(9202),N=t(3774),w=t(4394),y=t(3247),k=t(1671),B=t(3245),C=t(9376),z=t(5186);let _=[{id:"event1",title:"Introduction to BDSM Safety",description:"A beginner-friendly workshop covering the essentials of BDSM safety, consent, and communication.",date:"2023-12-15T18:00:00",location:"Kinkoasis Main Studio",isVirtual:!1,membershipRequired:"standard",image:"/images/events/workshop.jpg",attendees:24},{id:"event2",title:"Virtual Rope Technique Masterclass",description:"Learn advanced rope techniques from master practitioners in this online session.",date:"2023-12-20T19:00:00",location:"Zoom",isVirtual:!0,membershipRequired:"premium",image:"/images/events/rope.jpg",attendees:42},{id:"event3",title:"VIP Social Mixer",description:"Exclusive networking event for VIP members with drinks, snacks, and special demonstrations.",date:"2023-12-30T20:00:00",location:"Kinkoasis Lounge",isVirtual:!1,membershipRequired:"vip",image:"/images/events/mixer.jpg",attendees:18}],Z=[{id:"topic1",title:"Newcomers Introduction Thread",category:"General",author:{name:"KinkModerator",avatar:"/images/avatars/mod.jpg"},replies:156,views:2345,lastActivity:"2023-12-01T14:23:00",isLocked:!1,isPinned:!0},{id:"topic2",title:"Product Review: New Rope Collection",category:"Reviews",author:{name:"RopeMaster42",avatar:"/images/avatars/user1.jpg"},replies:28,views:412,lastActivity:"2023-12-05T09:17:00",isLocked:!1,isPinned:!1},{id:"topic3",title:"December Community Challenge",category:"Events",author:{name:"CommunityLead",avatar:"/images/avatars/lead.jpg"},replies:89,views:1204,lastActivity:"2023-12-03T18:05:00",isLocked:!1,isPinned:!0},{id:"topic4",title:"Safety Guidelines - MUST READ",category:"Announcements",author:{name:"KinkModerator",avatar:"/images/avatars/mod.jpg"},replies:42,views:3789,lastActivity:"2023-11-28T11:30:00",isLocked:!0,isPinned:!0}],S=[{name:"Newcomer",color:"bg-slate-500",minPosts:0},{name:"Explorer",color:"bg-blue-500",minPosts:10},{name:"Enthusiast",color:"bg-purple-500",minPosts:50},{name:"Devotee",color:"bg-pink-600",minPosts:100},{name:"Maven",color:"bg-amber-500",minPosts:250},{name:"Guru",color:"bg-[#BB2124]",minPosts:500}];function R(){var e,s,t,R;let{user:P}=(0,m.a)(),I=(0,C.useRouter)(),A=(0,u.e)(),[L,D]=(0,r.useState)(!0),[E,M]=(0,r.useState)(null),[V,J]=(0,r.useState)([]),[q,O]=(0,r.useState)(null),[T,U]=(0,r.useState)(null),[Y,K]=(0,r.useState)(!1);(0,r.useEffect)(()=>{!async function(){if(D(!0),!P){D(!1);return}try{let{data:e,error:s}=await A.from("profiles").select("*").eq("id",P.id).single();s||e&&(M(e),K(e.community_joined||!1));let{data:t,error:i}=await A.from("profiles").select("id, username, full_name, avatar_url, community_level, community_join_date").eq("community_joined",!0).order("community_join_date",{ascending:!1}).limit(8);i||t&&J(t)}catch(e){}finally{D(!1)}}()},[A,P]);let W=async()=>{if(!P){I.push("/auth/sign-in");return}D(!0);try{let e={id:P.id,community_joined:!0,community_join_date:new Date().toISOString(),community_level:"newcomer",updated_at:new Date().toISOString()},{error:s}=await A.from("profiles").upsert(e).eq("id",P.id);if(s)O(s.message);else{U("Welcome to the Kinkoasis community!"),K(!0);let{data:e}=await A.from("profiles").select("*").eq("id",P.id).single();e&&M(e),I.push("/community")}}catch(e){O("An unexpected error occurred")}finally{D(!1)}};return L?(0,i.jsx)("div",{className:"container py-8 text-center",children:"Loading community data..."}):(0,i.jsxs)("div",{className:"container max-w-6xl py-8 kinko-animate-fade-in",children:[(0,i.jsx)("div",{className:"mb-12 rounded-xl overflow-hidden shadow-lg",children:(0,i.jsxs)("div",{className:"kinko-gradient-bg kinko-pattern-bg relative p-0",children:[(0,i.jsx)("div",{className:"h-24 md:h-32 w-full bg-center bg-cover opacity-50",style:{backgroundImage:"url('/images/community-banner.jpg')"}}),(0,i.jsxs)("div",{className:"relative px-6 md:px-10 py-8 md:py-10",children:[(0,i.jsxs)("h1",{className:"text-3xl md:text-4xl font-bold mb-3 text-white flex items-center",children:[(0,i.jsx)(x.Z,{className:"mr-3 h-7 w-7"}),"Kinkoasis Community"]}),(0,i.jsx)("p",{className:"text-lg md:text-xl opacity-90 max-w-2xl mb-8 text-white",children:"Connect with fellow enthusiasts, share experiences, and discover new practices in a safe, supportive environment dedicated to exploration and education."}),(0,i.jsx)("div",{className:"flex flex-wrap gap-3 items-center",children:P?Y?(0,i.jsxs)("div",{className:"bg-white/10 border border-white/20 backdrop-blur-sm rounded-lg p-4 flex flex-col md:flex-row md:items-center text-white",children:[(0,i.jsx)(d.C,{className:"bg-white text-[#BB2124] text-sm px-3 py-1 mb-2 md:mb-0 md:mr-4",children:"Member"}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(f.Z,{className:"h-4 w-4 mr-2 opacity-75"}),(0,i.jsxs)("span",{children:["Joined on ",(null==E?void 0:E.community_join_date)?new Date(E.community_join_date).toLocaleDateString():"recently"]})]}),(null==E?void 0:E.community_level)&&(0,i.jsxs)("div",{className:"flex items-center md:ml-6 mt-2 md:mt-0",children:[(0,i.jsx)(x.Z,{className:"h-4 w-4 mr-2 opacity-75"}),(0,i.jsxs)("span",{children:["Level: ",(null===(e=E.community_level)||void 0===e?void 0:e.charAt(0).toUpperCase())+(null===(s=E.community_level)||void 0===s?void 0:s.slice(1))]})]})]}):(0,i.jsxs)(n.z,{onClick:W,className:"bg-white text-[#BB2124] hover:bg-gray-100 shadow-md group px-6 py-5 transition-all duration-300",size:"lg",disabled:L,children:[(0,i.jsx)(h.Z,{className:"mr-2 h-5 w-5 group-hover:scale-110 transition-transform"}),L?"Joining...":"Join Our Community"]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.z,{onClick:()=>I.push("/auth/sign-in"),className:"bg-white text-[#BB2124] hover:bg-gray-100 px-6 py-5 shadow-md",size:"lg",children:[(0,i.jsx)(h.Z,{className:"mr-2 h-5 w-5"}),"Sign In to Join"]}),(0,i.jsxs)("span",{className:"text-white md:ml-4 opacity-90",children:["New to Kinkoasis? ",(0,i.jsx)("button",{className:"underline font-medium",onClick:()=>I.push("/auth/sign-up"),children:"Create an account"})]})]})}),(0,i.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6 mt-8 text-white",children:[(0,i.jsxs)("div",{className:"bg-white/10 border border-white/20 backdrop-blur-sm rounded-lg p-4 text-center",children:[(0,i.jsx)("div",{className:"text-2xl md:text-3xl font-bold",children:V.length>0?"100+":"0"}),(0,i.jsx)("div",{className:"text-sm opacity-80",children:"Members"})]}),(0,i.jsxs)("div",{className:"bg-white/10 border border-white/20 backdrop-blur-sm rounded-lg p-4 text-center",children:[(0,i.jsx)("div",{className:"text-2xl md:text-3xl font-bold",children:Z.length}),(0,i.jsx)("div",{className:"text-sm opacity-80",children:"Discussions"})]}),(0,i.jsxs)("div",{className:"bg-white/10 border border-white/20 backdrop-blur-sm rounded-lg p-4 text-center",children:[(0,i.jsx)("div",{className:"text-2xl md:text-3xl font-bold",children:_.length}),(0,i.jsx)("div",{className:"text-sm opacity-80",children:"Events"})]}),(0,i.jsxs)("div",{className:"bg-white/10 border border-white/20 backdrop-blur-sm rounded-lg p-4 text-center",children:[(0,i.jsx)("div",{className:"text-2xl md:text-3xl font-bold",children:S.length}),(0,i.jsx)("div",{className:"text-sm opacity-80",children:"Achievement Levels"})]})]})]})]})}),q&&(0,i.jsx)(o.bZ,{variant:"destructive",className:"mb-6 animate-in fade-in slide-in-from-top-5 duration-300",children:(0,i.jsx)(o.X,{children:q})}),T&&(0,i.jsx)(o.bZ,{className:"mb-6 bg-green-50 text-green-800 border-green-300 animate-in fade-in slide-in-from-top-5 duration-300",children:(0,i.jsx)(o.X,{children:T})}),(0,i.jsxs)(l.mQ,{defaultValue:"discussions",children:[(0,i.jsxs)(l.dr,{className:"grid w-full grid-cols-4 mb-8",children:[(0,i.jsxs)(l.SP,{value:"discussions",className:"flex items-center justify-center",children:[(0,i.jsx)(v.Z,{className:"mr-2 h-4 w-4"})," Discussions"]}),(0,i.jsxs)(l.SP,{value:"events",className:"flex items-center justify-center",children:[(0,i.jsx)(f.Z,{className:"mr-2 h-4 w-4"})," Events"]}),(0,i.jsxs)(l.SP,{value:"members",className:"flex items-center justify-center",children:[(0,i.jsx)(p.Z,{className:"mr-2 h-4 w-4"})," Members"]}),(0,i.jsxs)(l.SP,{value:"levels",className:"flex items-center justify-center",children:[(0,i.jsx)(x.Z,{className:"mr-2 h-4 w-4"})," Community Levels"]})]}),(0,i.jsx)(l.nU,{value:"discussions",className:"kinko-animate-slide-up",children:(0,i.jsx)("div",{className:"grid grid-cols-1 gap-6",children:(0,i.jsxs)(a.Zb,{className:"border-0 shadow-md",children:[(0,i.jsx)(a.Ol,{className:"border-b pb-3",children:(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)(a.ll,{className:"flex items-center",children:[(0,i.jsx)(v.Z,{className:"mr-2 h-5 w-5 text-[#BB2124]"}),"Discussion Forums"]}),(0,i.jsx)(a.SZ,{className:"mt-1",children:"Join conversations with fellow community members"})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsxs)(n.z,{variant:"outline",size:"sm",className:"hidden md:flex",children:[(0,i.jsx)(p.Z,{className:"h-4 w-4 mr-2"})," Active"]}),(0,i.jsxs)(n.z,{variant:"outline",size:"sm",className:"hidden md:flex",children:[(0,i.jsx)(f.Z,{className:"h-4 w-4 mr-2"})," Recent"]})]})]})}),(0,i.jsxs)(a.aY,{className:"pt-6",children:[(0,i.jsxs)("div",{className:"flex gap-2 overflow-x-auto pb-4 mb-4 border-b",children:[(0,i.jsx)(d.C,{variant:"outline",className:"whitespace-nowrap cursor-pointer bg-[#BB2124]/10",children:"All Topics"}),(0,i.jsx)(d.C,{variant:"outline",className:"whitespace-nowrap cursor-pointer",children:"General"}),(0,i.jsx)(d.C,{variant:"outline",className:"whitespace-nowrap cursor-pointer",children:"Announcements"}),(0,i.jsx)(d.C,{variant:"outline",className:"whitespace-nowrap cursor-pointer",children:"Reviews"}),(0,i.jsx)(d.C,{variant:"outline",className:"whitespace-nowrap cursor-pointer",children:"Events"}),(0,i.jsx)(d.C,{variant:"outline",className:"whitespace-nowrap cursor-pointer",children:"Questions"})]}),(0,i.jsx)("div",{className:"space-y-4",children:Z.map(e=>(0,i.jsxs)("div",{className:"p-4 border rounded-lg hover:bg-slate-50 cursor-pointer transition-all duration-200 ".concat(e.isPinned?"border-[#BB2124]/30 bg-[#BB2124]/5":""," kinko-card-hover"),children:[(0,i.jsx)("div",{className:"flex justify-between items-start",children:(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex items-center mb-2",children:[e.isPinned&&(0,i.jsxs)("div",{className:"bg-[#BB2124]/10 text-[#BB2124] text-xs px-2 py-0.5 rounded-full font-medium flex items-center mr-2",children:[(0,i.jsx)(g.Z,{className:"h-3 w-3 mr-1"})," Pinned"]}),(0,i.jsx)("h3",{className:"font-medium text-lg",children:e.title}),e.isLocked&&(0,i.jsxs)("div",{className:"bg-slate-100 text-slate-500 text-xs px-2 py-0.5 rounded-full font-medium flex items-center ml-2",children:[(0,i.jsx)(j.Z,{className:"h-3 w-3 mr-1"})," Locked"]})]}),(0,i.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground gap-2",children:[(0,i.jsx)(d.C,{variant:"secondary",className:"bg-slate-100 text-slate-700 hover:bg-slate-200 transition-colors py-0",children:e.category}),(0,i.jsxs)("span",{className:"flex items-center text-xs",children:[(0,i.jsx)(v.Z,{className:"h-3 w-3 mr-1 inline"}),e.replies," ",1===e.replies?"reply":"replies"]}),(0,i.jsxs)("span",{className:"flex items-center text-xs",children:[(0,i.jsx)(p.Z,{className:"h-3 w-3 mr-1 inline"}),e.views," views"]})]})]})}),(0,i.jsxs)("div",{className:"flex justify-between items-center mt-4 pt-3 border-t border-slate-100",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(c.qE,{className:"h-6 w-6 mr-2",children:(0,i.jsx)(c.Q5,{children:e.author.name.substring(0,2)})}),(0,i.jsx)("span",{className:"text-sm",children:e.author.name})]}),(0,i.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Last activity: ",new Date(e.lastActivity).toLocaleDateString()]})]})]},e.id))}),(0,i.jsxs)("div",{className:"flex justify-between items-center mt-6 pt-4 border-t",children:[(0,i.jsx)("div",{className:"text-sm text-muted-foreground",children:"Showing 4 of 120 discussions"}),(0,i.jsxs)("div",{className:"flex gap-1",children:[(0,i.jsx)(n.z,{variant:"outline",size:"sm",disabled:!0,children:"Previous"}),(0,i.jsx)(n.z,{variant:"outline",size:"sm",className:"bg-[#BB2124]/10",children:"1"}),(0,i.jsx)(n.z,{variant:"outline",size:"sm",children:"2"}),(0,i.jsx)(n.z,{variant:"outline",size:"sm",children:"3"}),(0,i.jsx)(n.z,{variant:"outline",size:"sm",children:"Next"})]})]})]}),(0,i.jsx)(a.eW,{className:"flex justify-center border-t pt-6",children:(0,i.jsxs)(n.z,{className:"px-8",disabled:!Y,children:[(0,i.jsx)(v.Z,{className:"mr-2 h-4 w-4"}),Y?"Start a New Discussion":"Join Community to Participate"]})})]})})}),(0,i.jsx)(l.nU,{value:"events",className:"kinko-animate-slide-up",children:(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 pb-4 border-b",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("h2",{className:"text-2xl font-bold flex items-center mb-2",children:[(0,i.jsx)(f.Z,{className:"mr-2 h-5 w-5 text-[#BB2124]"}),"Upcoming Events"]}),(0,i.jsx)("p",{className:"text-muted-foreground",children:"Join our community events, workshops, and social gatherings"})]}),(0,i.jsxs)("div",{className:"flex gap-2 mt-4 md:mt-0",children:[(0,i.jsxs)(n.z,{variant:"outline",size:"sm",className:"flex items-center",children:[(0,i.jsx)("span",{className:"h-2 w-2 rounded-full bg-slate-600 mr-2"})," All"]}),(0,i.jsxs)(n.z,{variant:"outline",size:"sm",className:"flex items-center",children:[(0,i.jsx)("span",{className:"h-2 w-2 rounded-full bg-[#BB2124] mr-2"})," VIP"]}),(0,i.jsxs)(n.z,{variant:"outline",size:"sm",className:"flex items-center",children:[(0,i.jsx)("span",{className:"h-2 w-2 rounded-full bg-purple-600 mr-2"})," Premium"]})]})]}),(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(e=>(0,i.jsxs)(a.Zb,{className:"overflow-hidden border-0 shadow-md transition-all duration-300 hover:shadow-lg group kinko-card-hover",children:[(0,i.jsxs)("div",{className:"h-48 bg-slate-100 relative overflow-hidden",children:[(0,i.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-slate-300 group-hover:scale-110 transition-transform duration-300 bg-gradient-to-b from-slate-200 to-slate-100",children:(0,i.jsx)(f.Z,{className:"h-16 w-16 opacity-50"})}),(0,i.jsxs)("div",{className:"absolute top-4 left-4 bg-white shadow-md rounded-lg p-2 text-center min-w-16",children:[(0,i.jsx)("div",{className:"text-lg font-bold text-[#BB2124]",children:new Date(e.date).getDate()}),(0,i.jsx)("div",{className:"text-xs text-gray-600",children:new Date(e.date).toLocaleString("default",{month:"short"})})]}),e.membershipRequired&&(0,i.jsx)("div",{className:"absolute top-4 right-4",children:(0,i.jsx)(d.C,{className:"standard"===e.membershipRequired?"bg-slate-600":"premium"===e.membershipRequired?"bg-purple-600":"bg-[#BB2124]",children:e.membershipRequired.charAt(0).toUpperCase()+e.membershipRequired.slice(1)})})]}),(0,i.jsxs)(a.Ol,{className:"pb-2",children:[(0,i.jsx)("div",{className:"flex justify-between items-start",children:(0,i.jsx)(a.ll,{className:"text-lg",children:e.title})}),(0,i.jsxs)(a.SZ,{children:[(0,i.jsxs)("div",{className:"flex items-center text-sm mt-2",children:[(0,i.jsx)(f.Z,{className:"h-4 w-4 mr-2 text-muted-foreground"}),new Date(e.date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),(0,i.jsx)("div",{className:"flex items-center text-sm mt-1",children:e.isVirtual?(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(b.Z,{className:"h-4 w-4 mr-2 text-muted-foreground"}),"Virtual Event"]}):(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(N.Z,{className:"h-4 w-4 mr-2 text-muted-foreground"}),e.location]})})]})]}),(0,i.jsxs)(a.aY,{children:[(0,i.jsx)("p",{className:"text-sm line-clamp-3 mb-4",children:e.description}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex -space-x-2",children:[[,,,].fill(0).map((e,s)=>(0,i.jsx)("div",{className:"h-8 w-8 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center text-xs font-medium",children:["JD","KM","TS"][s]},s)),e.attendees>3&&(0,i.jsxs)("div",{className:"h-8 w-8 rounded-full bg-slate-100 border-2 border-white flex items-center justify-center text-xs font-medium",children:["+",e.attendees-3]})]}),(0,i.jsxs)("span",{className:"text-xs text-muted-foreground",children:[e.attendees," attending"]})]})]}),(0,i.jsxs)(a.eW,{className:"border-t pt-4 flex justify-between",children:[(0,i.jsx)(n.z,{variant:"default",size:"sm",disabled:!Y,className:"flex-1",children:Y?"RSVP":"Join to RSVP"}),(0,i.jsx)(n.z,{variant:"outline",size:"sm",className:"ml-2",children:(0,i.jsx)(w.Z,{className:"h-4 w-4"})})]})]},e.id))}),(0,i.jsx)("div",{className:"mt-8 text-center",children:(0,i.jsxs)(n.z,{variant:"outline",className:"px-8",children:[(0,i.jsx)(f.Z,{className:"mr-2 h-4 w-4"}),"View All Events"]})})]})}),(0,i.jsx)(l.nU,{value:"members",className:"kinko-animate-slide-up",children:(0,i.jsxs)(a.Zb,{className:"border-0 shadow-md",children:[(0,i.jsx)(a.Ol,{className:"border-b pb-6",children:(0,i.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)(a.ll,{className:"flex items-center",children:[(0,i.jsx)(p.Z,{className:"mr-2 h-5 w-5 text-[#BB2124]"}),"Community Members"]}),(0,i.jsx)(a.SZ,{className:"mt-1",children:"Connect with fellow enthusiasts in our growing community"})]}),(0,i.jsx)("div",{className:"mt-4 md:mt-0",children:(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(y.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,i.jsx)(z.I,{className:"pl-9 w-full md:w-auto",placeholder:"Search members..."})]})})]})}),(0,i.jsxs)(a.aY,{className:"pt-6",children:[(0,i.jsxs)("div",{className:"mb-6 flex flex-wrap gap-2",children:[(0,i.jsx)(d.C,{variant:"outline",className:"bg-[#BB2124]/10 hover:bg-[#BB2124]/20 cursor-pointer",children:"All Members"}),(0,i.jsx)(d.C,{variant:"outline",className:"hover:bg-slate-100 cursor-pointer",children:"Recently Joined"}),(0,i.jsx)(d.C,{variant:"outline",className:"hover:bg-slate-100 cursor-pointer",children:"Most Active"}),(0,i.jsx)(d.C,{variant:"outline",className:"hover:bg-slate-100 cursor-pointer",children:"VIP"})]}),V.length>0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:V.map(e=>{var s,t;return(0,i.jsxs)("div",{className:"flex flex-col items-center text-center p-4 border rounded-lg hover:border-[#BB2124]/30 hover:bg-slate-50 cursor-pointer transition-all duration-200 kinko-card-hover",children:[(0,i.jsxs)(c.qE,{className:"h-20 w-20 mb-3",children:[(0,i.jsx)(c.F$,{src:e.avatar_url||void 0}),(0,i.jsx)(c.Q5,{className:"bg-[#BB2124]/80 text-white text-lg",children:(null===(s=e.username)||void 0===s?void 0:s.substring(0,2).toUpperCase())||(null===(t=e.full_name)||void 0===t?void 0:t.substring(0,2).toUpperCase())||"KO"})]}),(0,i.jsx)("div",{className:"font-medium text-lg",children:e.username||e.full_name||"Kinkoasis User"}),(0,i.jsx)(d.C,{className:"mt-2 ".concat("newcomer"===e.community_level?"bg-slate-500":"explorer"===e.community_level?"bg-blue-500":"enthusiast"===e.community_level?"bg-purple-500":"devotee"===e.community_level?"bg-pink-600":"maven"===e.community_level?"bg-amber-500":"bg-[#BB2124]"),children:e.community_level?"".concat(e.community_level.charAt(0).toUpperCase()).concat(e.community_level.slice(1)):"Member"}),(0,i.jsxs)("div",{className:"flex items-center gap-1 mt-3 text-sm text-muted-foreground",children:[(0,i.jsx)(f.Z,{className:"h-3 w-3"}),(0,i.jsxs)("span",{children:["Joined ",e.community_join_date?new Date(e.community_join_date).toLocaleDateString():"recently"]})]}),(0,i.jsx)(n.z,{variant:"outline",size:"sm",className:"mt-4 w-full text-xs",children:"View Profile"})]},e.id)})}),(0,i.jsxs)("div",{className:"flex justify-between items-center mt-8 pt-4 border-t",children:[(0,i.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing 8 of ",V.length>8?"100+":V.length," members"]}),(0,i.jsxs)("div",{className:"flex gap-1",children:[(0,i.jsx)(n.z,{variant:"outline",size:"sm",disabled:!0,children:"Previous"}),(0,i.jsx)(n.z,{variant:"outline",size:"sm",className:"bg-[#BB2124]/10",children:"1"}),(0,i.jsx)(n.z,{variant:"outline",size:"sm",children:"2"}),(0,i.jsx)(n.z,{variant:"outline",size:"sm",children:"3"}),(0,i.jsx)(n.z,{variant:"outline",size:"sm",children:"Next"})]})]})]}):(0,i.jsxs)("div",{className:"py-16 text-center text-muted-foreground",children:[(0,i.jsx)(p.Z,{className:"h-16 w-16 mx-auto mb-4 opacity-30"}),(0,i.jsx)("h3",{className:"text-xl font-medium mb-2",children:"No Members Yet"}),(0,i.jsx)("p",{className:"max-w-md mx-auto mb-6",children:"Be the first to join our community and start connecting with like-minded enthusiasts."}),(0,i.jsxs)(n.z,{onClick:W,disabled:!P||L,children:[(0,i.jsx)(h.Z,{className:"mr-2 h-4 w-4"}),L?"Processing...":"Join Community"]})]})]})]})}),(0,i.jsx)(l.nU,{value:"levels",className:"kinko-animate-slide-up",children:(0,i.jsxs)(a.Zb,{className:"border-0 shadow-md",children:[(0,i.jsxs)(a.Ol,{className:"border-b pb-4",children:[(0,i.jsxs)(a.ll,{className:"flex items-center",children:[(0,i.jsx)(x.Z,{className:"mr-2 h-5 w-5 text-[#BB2124]"}),"Community Levels"]}),(0,i.jsx)(a.SZ,{className:"mt-1",children:"Participate in discussions and events to increase your community level and unlock benefits"})]}),(0,i.jsxs)(a.aY,{className:"pt-6",children:[(null==E?void 0:E.community_level)&&(0,i.jsxs)("div",{className:"mb-8 p-6 border rounded-xl bg-gradient-to-r from-[#BB2124]/5 to-purple-500/5 relative overflow-hidden",children:[(0,i.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between",children:[(0,i.jsxs)("div",{className:"mb-4 md:mb-0",children:[(0,i.jsx)("h3",{className:"text-sm uppercase tracking-wider text-muted-foreground mb-1",children:"Your Current Level"}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mr-3 text-white font-bold ".concat("newcomer"===E.community_level?"bg-slate-500":"explorer"===E.community_level?"bg-blue-500":"enthusiast"===E.community_level?"bg-purple-500":"devotee"===E.community_level?"bg-pink-600":"maven"===E.community_level?"bg-amber-500":"bg-[#BB2124]"),children:S.findIndex(e=>e.name.toLowerCase()===E.community_level)+1}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-2xl font-bold",children:(null===(t=E.community_level)||void 0===t?void 0:t.charAt(0).toUpperCase())+(null===(R=E.community_level)||void 0===R?void 0:R.slice(1))}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:"Keep participating to reach the next level"})]})]})]}),(0,i.jsxs)("div",{className:"w-full md:w-2/5",children:[(0,i.jsx)("div",{className:"h-2 bg-slate-200 rounded-full overflow-hidden",children:(0,i.jsx)("div",{className:"h-full bg-[#BB2124] rounded-full",style:{width:"".concat(Math.min(100,100*Math.random()),"%")}})}),(0,i.jsxs)("div",{className:"flex justify-between text-xs mt-2",children:[(0,i.jsx)("span",{children:"0 posts"}),(0,i.jsx)("span",{children:"Next level: 50 posts"})]})]})]}),(0,i.jsx)("div",{className:"absolute -right-4 -bottom-4 w-24 h-24 rounded-full bg-[#BB2124]/10 z-0"}),(0,i.jsx)("div",{className:"absolute right-12 -bottom-6 w-16 h-16 rounded-full bg-purple-500/10 z-0"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-medium mb-4",children:"All Community Levels"}),(0,i.jsx)("div",{className:"space-y-6",children:S.map((e,s)=>(0,i.jsxs)("div",{className:"flex items-center p-4 rounded-lg transition-colors ".concat((null==E?void 0:E.community_level)===e.name.toLowerCase()?"bg-[#BB2124]/5 border border-[#BB2124]/20":"hover:bg-slate-50"),children:[(0,i.jsx)("div",{className:"".concat(e.color," text-white h-14 w-14 rounded-full flex items-center justify-center mr-5 text-xl font-bold shrink-0"),children:s+1}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("h3",{className:"font-medium text-lg",children:e.name}),(null==E?void 0:E.community_level)===e.name.toLowerCase()&&(0,i.jsx)(d.C,{className:"ml-2 bg-[#BB2124]",children:"Current Level"})]}),(0,i.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.minPosts," ",0===s?"posts to start":"posts required"]}),(0,i.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:["Access to discussions",s>0?"Create new topics":null,s>1?"Exclusive resources":null,s>2?"Private events access":null,s>3?"Mentor program":null,s>4?"VIP membership discount":null].filter(Boolean).map((e,s)=>(0,i.jsxs)("span",{className:"inline-flex items-center text-xs px-2 py-1 bg-slate-100 rounded-full",children:[(0,i.jsx)(k.Z,{className:"h-3 w-3 mr-1 text-green-500"}),e]},s))})]}),(null==E?void 0:E.community_level)!==e.name.toLowerCase()&&s>0&&(0,i.jsx)(n.z,{variant:"outline",size:"sm",className:"shrink-0 ml-2",disabled:!Y,children:"How to Reach"})]},e.name))})]}),(0,i.jsx)("div",{className:"mt-8 p-6 bg-slate-50 rounded-lg border",children:(0,i.jsxs)("div",{className:"flex items-start",children:[(0,i.jsx)(B.Z,{className:"h-5 w-5 mr-3 mt-0.5 text-[#BB2124]"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium text-lg mb-2",children:"How to Level Up"}),(0,i.jsx)("p",{className:"text-muted-foreground mb-4",children:"Your community level increases automatically as you participate in discussions, attend events, and contribute to the community. Higher levels unlock additional benefits and features."}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex items-center text-sm",children:[(0,i.jsx)(v.Z,{className:"h-4 w-4 mr-2 text-[#BB2124]"}),(0,i.jsxs)("span",{children:[(0,i.jsx)("strong",{children:"Create discussions"})," - Start new topics or reply to existing ones"]})]}),(0,i.jsxs)("div",{className:"flex items-center text-sm",children:[(0,i.jsx)(f.Z,{className:"h-4 w-4 mr-2 text-[#BB2124]"}),(0,i.jsxs)("span",{children:[(0,i.jsx)("strong",{children:"Attend events"})," - Join our workshops and social gatherings"]})]}),(0,i.jsxs)("div",{className:"flex items-center text-sm",children:[(0,i.jsx)(x.Z,{className:"h-4 w-4 mr-2 text-[#BB2124]"}),(0,i.jsxs)("span",{children:[(0,i.jsx)("strong",{children:"Complete challenges"})," - Participate in our monthly community challenges"]})]})]})]})]})})]})]})})]})]})}},5613:function(e,s,t){"use strict";t.d(s,{X:function(){return d},bZ:function(){return c}});var i=t(7437),r=t(2265),n=t(535),a=t(4508);let l=(0,n.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),c=r.forwardRef((e,s)=>{let{className:t,variant:r,...n}=e;return(0,i.jsx)("div",{ref:s,role:"alert",className:(0,a.cn)(l({variant:r}),t),...n})});c.displayName="Alert",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)("h5",{ref:s,className:(0,a.cn)("mb-1 font-medium leading-none tracking-tight",t),...r})}).displayName="AlertTitle";let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)("div",{ref:s,className:(0,a.cn)("text-sm [&_p]:leading-relaxed",t),...r})});d.displayName="AlertDescription"},6831:function(e,s,t){"use strict";t.d(s,{F$:function(){return c},Q5:function(){return d},qE:function(){return l}});var i=t(7437),r=t(2265),n=t(4930),a=t(4508);let l=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)(n.fC,{ref:s,className:(0,a.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...r})});l.displayName=n.fC.displayName;let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)(n.Ee,{ref:s,className:(0,a.cn)("aspect-square h-full w-full",t),...r})});c.displayName=n.Ee.displayName;let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)(n.NY,{ref:s,className:(0,a.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...r})});d.displayName=n.NY.displayName},5974:function(e,s,t){"use strict";t.d(s,{C:function(){return l}});var i=t(7437);t(2265);var r=t(535),n=t(4508);let a=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:s,variant:t,...r}=e;return(0,i.jsx)("div",{className:(0,n.cn)(a({variant:t}),s),...r})}},2869:function(e,s,t){"use strict";t.d(s,{z:function(){return d}});var i=t(7437),r=t(2265),n=t(7053),a=t(535),l=t(4508);let c=(0,a.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,s)=>{let{className:t,variant:r,size:a,asChild:d=!1,...o}=e,m=d?n.g7:"button";return(0,i.jsx)(m,{className:(0,l.cn)(c({variant:r,size:a,className:t})),ref:s,...o})});d.displayName="Button"},6070:function(e,s,t){"use strict";t.d(s,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return a},aY:function(){return o},eW:function(){return m},ll:function(){return c}});var i=t(7437),r=t(2265),n=t(4508);let a=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});a.displayName="Card";let l=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...r})});l.displayName="CardHeader";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)("div",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});c.displayName="CardTitle";let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)("div",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...r})});d.displayName="CardDescription";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",t),...r})});o.displayName="CardContent";let m=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",t),...r})});m.displayName="CardFooter"},5186:function(e,s,t){"use strict";t.d(s,{I:function(){return a}});var i=t(7437),r=t(2265),n=t(4508);let a=r.forwardRef((e,s)=>{let{className:t,type:r,...a}=e;return(0,i.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...a})});a.displayName="Input"},2339:function(e,s,t){"use strict";t.d(s,{SP:function(){return d},dr:function(){return c},mQ:function(){return l},nU:function(){return o}});var i=t(7437),r=t(2265),n=t(271),a=t(4508);let l=n.fC,c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)(n.aV,{ref:s,className:(0,a.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...r})});c.displayName=n.aV.displayName;let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)(n.xz,{ref:s,className:(0,a.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...r})});d.displayName=n.xz.displayName;let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)(n.VY,{ref:s,className:(0,a.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r})});o.displayName=n.VY.displayName},8945:function(e,s,t){"use strict";t.d(s,{H:function(){return c},a:function(){return d}});var i=t(7437),r=t(2265),n=t(8113),a=t(9376);let l=(0,r.createContext)(void 0);function c(e){let{children:s}=e,[t,c]=(0,r.useState)(null),[d,o]=(0,r.useState)(null),[m,u]=(0,r.useState)(!0),x=(0,a.useRouter)(),h=(0,n.e)();(0,r.useEffect)(()=>{(async()=>{u(!0);try{var e;let{data:{session:s}}=await h.auth.getSession();o(s),c(null!==(e=null==s?void 0:s.user)&&void 0!==e?e:null)}catch(e){}finally{u(!1)}})();let{data:{subscription:e}}=h.auth.onAuthStateChange((e,s)=>{var t;o(s),c(null!==(t=null==s?void 0:s.user)&&void 0!==t?t:null),"SIGNED_IN"===e&&x.refresh(),"SIGNED_OUT"===e&&x.refresh()});return()=>{e.unsubscribe()}},[x,h]);let f=async(e,s)=>{let{error:t}=await h.auth.signInWithPassword({email:e,password:s});return{error:t}},v=async(e,s)=>{let{error:t}=await h.auth.signUp({email:e,password:s,options:{emailRedirectTo:"".concat(window.location.origin,"/auth/callback")}});return{error:t}},p=async()=>{await h.auth.signOut(),x.push("/")},g=async()=>{let{error:e}=await h.auth.signInWithOAuth({provider:"google",options:{redirectTo:"".concat(window.location.origin,"/auth/callback")}});return{error:e}};return(0,i.jsx)(l.Provider,{value:{user:t,session:d,isLoading:m,signIn:f,signUp:v,signOut:p,signInWithGoogle:g},children:s})}let d=()=>{let e=(0,r.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},4508:function(e,s,t){"use strict";t.d(s,{cn:function(){return n}});var i=t(1994),r=t(3335);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.m6)((0,i.W)(s))}}},function(e){e.O(0,[569,214,513,889,971,966,744],function(){return e(e.s=320)}),_N_E=e.O()}]);